{"version":3,"sources":["app/js/App.js","app/js/actions/clockActions.js","app/js/actions/customListActions.js","app/js/actions/nodeActions.js","app/js/actions/nodeListActions.js","app/js/actions/pageActions.js","app/js/actions/searchActions.js","app/js/actions/settingsActions.js","app/js/actions/watchGroupsActions.js","app/js/actions/watchListActions.js","app/js/components/Clock.js","app/js/components/FilterMenu.js","app/js/components/MainNav.js","app/js/components/Modal.js","app/js/components/NodeStars.js","app/js/components/SearchBar.js","app/js/components/SettingsModal.js","app/js/components/TimerModal.js","app/js/components/WatchGroupModal.js","app/js/components/WatchGroupSelect.js","app/js/containers/About.js","app/js/containers/CustomContent.js","app/js/containers/DevTools.js","app/js/containers/Home.js","app/js/containers/WatchList.js","app/js/index.js","app/js/modules/Node.js","app/js/modules/NodeList.js","app/js/modules/NodeListItem.js","app/js/modules/Notifications.js","app/js/modules/WatchListItem.js","app/js/reducers/clockReducer.js","app/js/reducers/customListReducer.js","app/js/reducers/index.js","app/js/reducers/nodeListReducer.js","app/js/reducers/nodeReducer.js","app/js/reducers/pageReducer.js","app/js/reducers/searchReducer.js","app/js/reducers/settingsReducer.js","app/js/reducers/watchGroupsReducer.js","app/js/reducers/watchListReducer.js","app/js/routes.js","app/js/static/filters.js","app/js/static/sounds.js","app/js/utils/parseUtils.js","app/js/utils/searchUtils.js","app/js/utils/storageUtils.js","app/js/utils/timeUtils.js"],"names":["App","props","recieveNodeList","requestNodeList","changeTime","fetch","then","response","json","catch","ex","console","log","interval","setInterval","nextProps","clock","document","title","time","store","mapStateToProps","state","nodelist","mapDispatchToProps","dispatch","e","updateClock","dispatchNotification","closeNotification","updateLastAlarm","INCREMENT_CLOCK","DISPATCH_NOTIFICATION","CLOSE_NOTIFICATION","UPDATE_LAST_ALARM","type","list","hour","getState","watchlist","customlist","settings","lastAlarm","advanceHourNotice","alarm_hour","times","length","nodes","map","id","alertTime","activeNodes","addCustomNode","editCustomNode","removeCustomNode","ADD_CUSTOM_NODE","EDIT_CUSTOM_NODE","REMOVE_CUSTOM_NODE","node","toggleSelect","TOGGLE_SELECT","filterTypeNodeList","filterLevelNodeList","toggleFeatureFilter","REQUEST_NODELIST","RECEIVE_NODELIST","FILTER_TYPE_NODELIST","FILTER_LEVEL_NODELIST","FILTER_FEATURE_TOGGLE_NODELIST","recievedAt","Date","now","filterByType","filterByLevel","feature","toggleModal","TOGGLE_MODAL","search","SEARCH_QUERY","query","updateSetting","UPDATE_SETTING","setting","addItem","removeItem","createGroup","updateGroup","removeGroup","WATCHGROUP_ADD_ITEM","WATCHGROUP_REMOVE_ITEM","CREATE_WATCHGROUP","REMOVE_WATCHGROUP","UPDATE_WATCHGROUP","groupId","nodeId","group","clearAll","replaceList","ADD_WATCHLIST","REMOVE_WATCHLIST","UPDATE_TIMES","CLEAR_ALL","addToList","removeFromList","updateNotifications","timeObj","Object","assign","existsAt","Clock","className","FilterMenu","renderMenuItem","bind","name","value","isActive","object","values","indexOf","handleFilterChange","onChange","filters","keys","key","item","defaultProps","MainNav","nextState","$","menuToggle","sideNav","edge","on","watchCount","customCount","navItems","url","count","toLowerCase","meridiem","toggleSidebar","version","toString","button","renderMenu","sidebar","sidebarNav","Modal","modal","dismissable","complete","onClose","onModalOpen","open","Materialize","updateTextFields","timeout","setTimeout","callback","isValid","onBeforeClose","handleModalClose","buttonName","cancelButton","m","children","onModalClose","Close","Stars","stars","isEmpty","isNaN","starNodes","i","SearchBar","evt","target","defaultValue","helpText","onChangeEvent","SettingsModal","onUpdateSetting","select","material_select","val","checked","Notification","permission","requestPermission","alarmSound","alarm_sound","no_alarm","alarm_style","sel","sound","filename","handleToggleModal","page","NewTimerModal","isNew","timer","time_hour","time_minute","meridien","dur_hours","dur_minutes","handleOpenModal","handleCloseModal","handleTimerSave","setState","location","slot","level","x","y","notes","result","pos","duration","handleChange","form","WatchGroupModal","splice","error","fullList","handleOnSave","handleRemoveNode","WatchGroupSelect","dropdown","constrainWidth","belowOrigin","watchgroups","a","handleDropdown","handleGroupSelect","googleSheetsLink","About","CustomContent","handleRemoveGroup","renderCustomNode","renderWatchGroup","DevTools","s","Home","tabMenu","tabs","icon","content","typeFilter","levelFilter","featureFilter","availableFilters","featureFilters","searchValue","filterValues","itemIcon","featureIcon","onSearchChange","handleAddTimer","WatchList","sortNodes","active","timeUntil","timeRemaining","hours","minutes","flex","persistedState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","enhancer","subscribe","Root","Node","NodeList","activePanels","sortedGroups","groups","renderListGroup","sortAndFilterNodes","collapseList","collapsible","collapseReset","collapsed","one_hour","two_hour","the_rest","each","push","sort","b","aDur","bDur","aTime","seconds","bTime","currSearch","nextSearch","union","filter","isArray","levelRange","keep","isUndefined","isString","isNumber","isBoolean","groupListByTime","groupName","index","isOpen","shouldExpand","groupKeys","NodeListItem","earthTimeRemaining","status","selected","mins","Notifications","alarmList","handleNotifications","style","alarmStyle","single","firstNode","options","notification","hasSound","soundFile","renderPopupContent","alarm","WatchListItem","bait","join","action","clone","find","newNode","findIndex","rootReducer","routing","utils","defaultState","isFetching","booleanValues","parseTimes","parsePosition","parseLevel","parseAttrs","parseBooleans","lastUpdated","newFilter","targetGroup","replace","attr","split","parseFloat","opts","fuse","threshold","loadState","serializedState","localStorage","getItem","undefined","JSON","parse","err","saveState","stringify","setItem","clearState","getEorzeaTime","eorzeaMultipler","universalTime","unix","setTime","eorzeaTime","utc","format","getEarthDurationfromEorzean","stringDuration","totalMins","totalSeconds","earthUnits","totalEarthSeconds","Math","floor","ceil","diff","getTimeDifference","idx","getTimeObjFromString","timeA","timeB","minute","getTimeRemaining","nodeTime","currTime","endTime","getEndTimeFromDuration","getEarthTimeRemaining","durStr","getDurationStringFromObject","getTimeUntil","getEarthTimeUntil","startUntil","stringTime","isAM","getTimeStringFromObject","getTimeStringFromDuration","stringStartTime","startTime","end","getDurationObjFromString","durationObj","startObj","endObj","currentTime","startTimeDiff","endTimeDiff","startTimeDiffMins","endTimeDiffMins","durationMins"],"mappings":"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","file":"priv/app.js","sourcesContent":["import React, { Component } from 'react';\nimport { Provider, connect } from 'react-redux';\nimport Router from './routes';\n\nimport Notifications from './modules/Notifications';\n\nimport { recieveNodeList, requestNodeList } from './actions/nodeListActions';\nimport { changeTime } from './actions/clockActions';\n\nclass App extends Component {\n  propTypes: {\n    store: PropTypes.object.isRequired\n  }\n\n  componentDidMount() {\n    const { recieveNodeList, requestNodeList, changeTime } = this.props;\n\n    requestNodeList();\n\n    fetch('/data/nodes.json')\n      .then(function(response) {\n        return response.json()\n      }).then(function(json) {\n        recieveNodeList(json);\n      }).catch(function(ex) {\n        console.log('parsing failed', ex)\n      });\n\n      var interval = setInterval(() => changeTime(), 3000);\n  }\n\n  componentWillUpdate(nextProps) {\n    const { clock } = nextProps || this.props;\n    document.title = clock.time + ' - Eorzea Timers';\n  }\n\n  render() {\n    const { store } = this.props;\n\n    return (\n      <Provider store={store}>\n          <div>\n            <Router />\n            <Notifications />\n          </div>\n      </Provider>\n    )\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    clock: state.clock,\n    nodelist: state.nodelist\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    recieveNodeList: (json) => dispatch(recieveNodeList(json)),\n    requestNodeList: (e) => dispatch(requestNodeList()),\n    changeTime: (e) => dispatch(changeTime())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { each, filter, find } from 'lodash';\n\nexport const INCREMENT_CLOCK = 'INCREMENT_CLOCK';\nexport const DISPATCH_NOTIFICATION = 'DISPATCH_NOTIFICATION';\nexport const CLOSE_NOTIFICATION = 'CLOSE_NOTIFICATION';\nexport const UPDATE_LAST_ALARM = 'UPDATE_LAST_ALARM';\n\nexport function updateClock() {\n  return  {\n    type: INCREMENT_CLOCK\n  }\n}\n\nexport function dispatchNotification(list) {\n  return {\n    type: DISPATCH_NOTIFICATION,\n    list\n  }\n}\n\nexport function closeNotification() {\n  return {\n    type: CLOSE_NOTIFICATION\n  }\n}\n\nexport function updateLastAlarm(hour) {\n  return {\n    type: UPDATE_LAST_ALARM,\n    hour\n  }\n}\n\nexport function changeTime() {\n  return function(dispatch, getState) {\n    const {\n      watchlist,\n      nodelist,\n      customlist,\n      settings,\n      clock\n    } = getState();\n\n    const lastAlarm = clock.lastAlarm,\n          advanceHourNotice = settings.alarm_hour || 0;\n\n    if(watchlist.times.length) {\n      const nodes = watchlist.nodes.map((id) => {\n              return find([...nodelist.nodes, ...customlist], { id });\n            });\n\n      each(watchlist.times, (time) => {\n        const alertTime = time.hour - advanceHourNotice;\n\n        if(clock.hour === alertTime && clock.lastAlarm !== clock.hour) {\n          const activeNodes = filter(nodes, { time: time.time });\n\n          dispatch(dispatchNotification(activeNodes));\n          dispatch(updateLastAlarm(clock.hour));\n        }\n      });\n    }\n\n    dispatch(updateClock());\n  }\n}\n","export const ADD_CUSTOM_NODE = 'ADD_CUSTOM_NODE';\nexport const EDIT_CUSTOM_NODE = 'EDIT_CUSTOM_NODE';\nexport const REMOVE_CUSTOM_NODE = 'REMOVE_CUSTOM_NODE';\n\n\nexport function addCustomNode(node) {\n  return {\n    type: ADD_CUSTOM_NODE,\n    node\n  }\n}\n\nexport function editCustomNode(node) {\n  return {\n    type: EDIT_CUSTOM_NODE,\n    node\n  }\n}\n\nexport function removeCustomNode(id) {\n  return {\n    type: REMOVE_CUSTOM_NODE,\n    id\n  }\n}\n","export const TOGGLE_SELECT = 'TOGGLE_SELECT';\n\nexport function toggleSelect(id) {\n  return {\n    type: TOGGLE_SELECT,\n    id\n  }\n}\n","\nexport const REQUEST_NODELIST = 'REQUEST_NODELIST';\nexport const RECEIVE_NODELIST = 'RECEIVE_NODELIST';\nexport const FILTER_TYPE_NODELIST = 'FILTER_TYPE_NODELIST';\nexport const FILTER_LEVEL_NODELIST = 'FILTER_LEVEL_NODELIST';\nexport const FILTER_FEATURE_TOGGLE_NODELIST = 'FILTER_FEATURE_TOGGLE_NODELIST';\n\nexport function requestNodeList(nodes) {\n  return {\n    type: REQUEST_NODELIST,\n    nodes\n  }\n}\n\nexport function recieveNodeList(nodes) {\n  return {\n    type: RECEIVE_NODELIST,\n    nodes,\n    recievedAt: Date.now()\n  }\n}\n\nexport function filterTypeNodeList(filterByType) {\n  return {\n    type: FILTER_TYPE_NODELIST,\n    filterByType\n  }\n}\n\nexport function filterLevelNodeList(filterByLevel) {\n  return {\n    type: FILTER_LEVEL_NODELIST,\n    filterByLevel\n  }\n}\n\nexport function toggleFeatureFilter(feature) {\n  return {\n    type: FILTER_FEATURE_TOGGLE_NODELIST,\n    feature\n  }\n}\n","export const TOGGLE_MODAL = 'TOGGLE_MODAL';\n\nexport function toggleModal() {\n  return {\n    type: TOGGLE_MODAL\n  }\n}\n","export const SEARCH_QUERY = 'SEARCH_QUERY';\n\nexport function search(query) {\n  return {\n    type: SEARCH_QUERY,\n    query\n  }\n}\n","export const UPDATE_SETTING = 'UPDATE_SETTING';\n\nexport function updateSetting(setting) {\n  return {\n    type: UPDATE_SETTING,\n    setting\n  }\n}\n","export const WATCHGROUP_ADD_ITEM = 'WATCHGROUP_ADD_ITEM';\nexport const WATCHGROUP_REMOVE_ITEM = 'WATCHGROUP_REMOVE_ITEM';\nexport const CREATE_WATCHGROUP = 'CREATE_WATCHGROUP';\nexport const REMOVE_WATCHGROUP = 'REMOVE_WATCHGROUP';\nexport const UPDATE_WATCHGROUP = 'UPDATE_WATCHGROUP';\n\nexport function addItem(groupId, nodeId) {\n  return {\n    type: WATCHGROUP_ADD_ITEM,\n    groupId,\n    nodeId\n  }\n}\n\nexport function removeItem(groupId, nodeId) {\n  return {\n    type: WATCHGROUP_REMOVE_ITEM,\n    groupId,\n    nodeId\n  }\n}\n\nexport function createGroup(group) {\n  return {\n    type: CREATE_WATCHGROUP,\n    group\n  }\n}\n\nexport function updateGroup(group) {\n  return {\n    type: UPDATE_WATCHGROUP,\n    group\n  }\n}\n\nexport function removeGroup(id) {\n  return {\n    type: REMOVE_WATCHGROUP,\n    id\n  }\n}\n","import { indexOf, find, each } from 'lodash';\nimport {\n  getTimeObjFromString\n} from '../utils/timeUtils';\n\nexport const ADD_WATCHLIST = 'ADD_WATCHLIST';\nexport const REMOVE_WATCHLIST = 'REMOVE_WATCHLIST';\nexport const UPDATE_TIMES = 'UPDATE_TIMES';\nexport const CLEAR_ALL = 'CLEAR_ALL';\n\nfunction addToList(id) {\n  return {\n    type: ADD_WATCHLIST,\n    id\n  }\n}\n\nfunction removeFromList(id) {\n  return {\n    type: REMOVE_WATCHLIST,\n    id\n  }\n}\n\nfunction updateNotifications() {\n\n  return function(dispatch, getState) {\n    const {\n      watchlist,\n      nodelist,\n      customlist\n    } = getState();\n\n    const times = watchlist.nodes.map((id) => {\n      const node = find([...nodelist.nodes, ...customlist], {id});\n      const timeObj = getTimeObjFromString(node.time);\n\n      return Object.assign({}, timeObj, { time: node.time });\n    });\n\n    dispatch({\n      type: UPDATE_TIMES,\n      times\n    });\n  }\n}\n\n\nexport function toggleSelect(id) {\n\n  return function(dispatch, getState) {\n    const { watchlist } = getState(),\n          existsAt = indexOf(watchlist.nodes, id);\n\n    if(existsAt >= 0) {\n      dispatch(removeFromList(id))\n    } else {\n      dispatch(addToList(id))\n    }\n\n    dispatch(updateNotifications());\n  }\n}\n\nexport function clearAll() {\n  return {\n    type: CLEAR_ALL\n  }\n}\n\nexport function replaceList(list) {\n  return function(dispatch) {\n    dispatch(clearAll());\n\n    each(list, (id) => {\n      dispatch(toggleSelect(id))\n    });\n  }\n}\n","import React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\n\n\nconst Clock = (props) => (\n    <span className={ props.className }>\n      { props.clock.time }\n    </span>\n  );\n\nconst mapStateToProps = state => {\n  return { clock: state.clock };\n}\n\nexport default connect(mapStateToProps)(Clock);\n","import React, {Component} from 'react';\nimport { isArray, isObject } from 'lodash';\n\n\nclass FilterMenu extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.renderMenuItem = this.renderMenuItem.bind(this);\n  }\n\n  renderMenuItem(name, value) {\n    let isActive = false;\n    const object = isObject(value);\n    const { values } = this.props;\n\n    // if a filter is selected ...\n    if(values[name]) {\n      if(isArray(values[name])) {\n        if(object) {\n          if(isArray(value.value)) {\n            isActive = values[name] === value.value;\n          } else {\n            isActive = values[name].indexOf(value.value) >= 0;\n          }\n        } else {\n          isActive = values[name].indexOf(value) >= 0;\n        }\n      } else {\n        isActive = values[name] && values[name] === value;\n      }\n    }\n\n    return (\n      <li className=\"filter-menu-item\" key={`filter-${name}-${object ? value.value : value}`}>\n        <a onClick={this.handleFilterChange.bind(this, name, object ? value.value : value)}\n            className={`menu-item ${isActive ? 'active' : ''}`}>\n          <span className={`icon icon-${object ? value.value : value}`}></span>\n          <span className=\"name\">{ object ? value.name : value }</span>\n        </a>\n      </li>\n    );\n  }\n\n  handleFilterChange(name, value) {\n    this.props.onChange(name, value);\n  }\n\n  render() {\n    const { filters, className } = this.props;\n    const {\n      renderMenuItem\n    } = this;\n    const keys = Object.keys(filters);\n\n    return (\n      <div className={`filter-menu ${className}`}>\n        { keys.map((key) => {\n          return (\n            <div className={`filter-menu-group group-${key}`} key={key}>\n              <span className=\"menu-label\">{filters[key].name}:</span>\n              <ul className=\"filter-menu-list\">\n                { filters[key].values.map((item) => {\n                  return renderMenuItem(key, item);\n                }) }\n              </ul>\n            </div>\n          )\n        }) }\n      </div>\n    );\n  }\n}\n\nFilterMenu.defaultProps = {\n  onChange: () => {}\n}\n\nexport default FilterMenu;\n","import React, {Component} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Clock from './Clock';\nimport {omit} from 'lodash';\n\n\nclass MainNav extends Component {\n  componentDidMount(nextProps, nextState) {\n    $(this.menuToggle).sideNav({\n      edge: 'right'\n    });\n\n    $('#sidebar a').on('click', () => {\n      $(this.menuToggle).sideNav('hide');\n    })\n  }\n\n  renderMenu(className, id) {\n    const {\n      watchCount,\n      customCount,\n      clock\n    } = this.props;\n\n    const navItems = [\n      { url: '/watch', name: 'Watch List', count: watchCount },\n      {\n        url: '/custom',\n        name: 'My Timers',\n        count: customCount\n      },\n      {\n        url: '/about',\n        name: 'About'\n      }\n\n    ];\n\n    return (\n      <ul className={className || ''} id={ id || null }>\n        <li className='nav-item'>\n          <NavLink exact to=\"/\" activeClassName=\"active\">Home</NavLink>\n        </li>\n        { navItems.map(item => {\n          return (\n            <li key={item.name.toLowerCase()} className=\"nav-item\">\n              <NavLink to={item.url} activeClassName=\"active\">\n                <span>{ item.name }</span>\n                { item.count ? (\n                  <span className=\"label\">{item.count}</span>\n                ): null }\n              </NavLink>\n            </li>\n          )\n        })}\n        { id ? (\n          <li className={`nav-clock nav-item ${clock.meridiem.toLowerCase()}`}>\n            <Clock className=\"inline-block\"/>\n          </li>\n        ) : null }\n      </ul>\n    )\n  }\n\n  render() {\n    const {\n            toggleSidebar\n          } = this,\n          {\n            clock\n          } = this.props;\n\n    return (\n      <nav className=\"primary-nav\">\n        <div className=\"nav-wrapper\">\n          <div className=\"brand-logo website-title\">\n            <span>Eorzea Timers</span>&nbsp;\n            <span className=\"version\">{this.props.version.toString()}</span>\n          </div>\n          <div className={`right nav-clock ${clock.meridiem.toLowerCase()}`}>\n            <Clock className=\"inline-block\"/>\n          </div>\n          <a href=\"#\" ref={(button) => { this.menuToggle = button; }}\n            data-activates=\"sidebar\"\n            className=\"button-collapse right\">\n              <i className=\"material-icons\">menu</i>\n          </a>\n          <div>{ this.renderMenu(\"nav navbar-nav right hide-on-med-and-down\") }</div>\n          <div ref={(sidebar) => { this.sidebarNav = sidebar; }}>\n            { this.renderMenu(\"side-nav\", \"sidebar\") }\n          </div>\n        </div>\n      </nav>\n    )\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    clock: state.clock,\n    watchCount: state.watchlist.nodes.length,\n    customCount: state.customlist.length,\n    version: state.version\n  };\n}\n\nexport default connect(mapStateToProps)(MainNav);\n","import React, { Component } from 'react';\n\n\nclass Modal extends Component {\n  componentDidMount() {\n    $(this.modal).modal({\n      dismissable: true,\n      complete: this.props.onClose\n    });\n\n    this.onModalOpen(this.props);\n  }\n\n  onModalOpen(nextProps) {\n    if(nextProps.open === true) {\n      $(this.modal).modal('open');\n      Materialize.updateTextFields();\n    }\n\n    if(nextProps.timeout) {\n      setTimeout(() => {\n        $(this.modal).modal('close');\n        nextProps.timeout.callback();\n      }, nextProps.timeout.time || 5000);\n    }\n  }\n\n  onModalClose() {\n    const isValid = this.props.onBeforeClose();\n    if(isValid) {\n      this.handleModalClose();\n    }\n  }\n\n  handleModalClose() {\n    $(this.modal).modal('close');\n  }\n\n  render() {\n    const {\n      className,\n      buttonName,\n      cancelButton\n    } = this.props;\n\n    return (\n      <div className={`modal ${className || ''}`} ref={(m) => { this.modal = m}}>\n        {this.props.children}\n        <div className=\"modal-footer right-align\">\n          <a onClick={this.onModalClose.bind(this)} className=\"btn btn-primary\">{ buttonName || Close }</a>\n          { cancelButton ? (\n            <a onClick={this.handleModalClose.bind(this)} className=\"btn btn-flat\">Cancel</a>\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nModal.defaultProps = {\n  onClose: () => {},\n  onBeforeClose: () => { return true; }\n}\n\nexport default Modal\n","import React from 'react';\nimport _ from 'lodash';\n\nconst Stars = (props) => {\n    const { stars } = props;\n\n    if(!stars || _.isEmpty(stars) || _.isNaN(stars)) {\n      return (<span></span>);\n    }\n\n    let starNodes = _.times(stars, function(i) {\n      return (<i className=\"material-icons\" key={i}>star</i>);\n    });\n\n    return (\n      <span className=\"stars\">\n        { starNodes }\n      </span>\n    )\n}\n\nexport default Stars\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  propTypes: {\n    onChange: PropTypes.func.isRequired\n  }\n\n  onChangeEvent(onChange, evt) {\n    onChange(evt, evt.target.value);\n  }\n\n  render() {\n    const {\n      onChange,\n      defaultValue,\n      helpText\n    } = this.props;\n\n    return (\n      <div className=\"search-bar\">\n        <div className=\"input-field\">\n          <input type=\"text\" id=\"search\" defaultValue={defaultValue}\n            onChange={this.onChangeEvent.bind(this, onChange)} />\n          <label htmlFor=\"search\">\n            <i className=\"material-icons\">search</i>\n            Search\n          </label>\n        </div>\n        { helpText ? (\n          <p className=\"help-text\">{ helpText }</p>\n        ) : null }\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React, {Component} from 'react';\nimport ReactAudioPlayer from 'react-audio-player';\nimport { connect } from 'react-redux';\nimport { find } from 'lodash';\n\nimport {\n  toggleModal\n} from '../actions/pageActions';\nimport {\n  updateSetting\n} from '../actions/settingsActions';\nimport sounds from '../static/sounds';\n\nclass SettingsModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onUpdateSetting = this.onUpdateSetting.bind(this);\n  }\n\n  componentDidMount() {\n    $(this.modal).modal({\n      dismissable: true,\n      complete: this.onModalClose.bind(this)\n    });\n\n    $(this.select).on('change', (evt) => {\n      this.onUpdateSetting('alarm_sound', evt);\n    }).material_select();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.modal === true) {\n      $(this.modal).modal('open');\n    }\n  }\n\n  handleToggleModal() {\n    $(this.modal).modal('close');\n  }\n\n  onModalClose() {\n    this.props.toggleModal();\n  }\n\n  onUpdateSetting(name, evt) {\n    let setting = {};\n    const val = evt.target.value;\n\n    switch (name) {\n      case 'alarm_hour':\n      case 'alarm_style':\n      case 'alarm_sound':\n        setting[name] = val;\n        break;\n      case 'no_alarm':\n        setting[name] = evt.target.checked;\n        break;\n      default:\n    }\n\n    if(name === 'alarm_style' && val === 'desktop' && Notification && Notification.permission !== 'granted') {\n      Notification.requestPermission();\n    }\n\n    this.props.updateSetting(setting)\n  }\n\n  render() {\n    const {\n      modal,\n      toggleModal,\n      className,\n      settings\n    } = this.props;\n    const {\n      onUpdateSetting\n    } = this;\n\n    let alarmSound;\n    if(settings.alarm_sound && settings.alarm_sound !== 'none') {\n      alarmSound = find(sounds, { name: settings.alarm_sound });\n    }\n\n\n    return (\n      <div className={`settings-modal-container ${className}`}>\n        <a onClick={toggleModal} className=\"toggle-btn btn btn-small btn-secondary\">\n          <i className=\"material-icons\">settings</i>\n          settings\n        </a>\n        <div className=\"modal modal-fixed-footer settings-modal\" ref={(modal) => { this.modal = modal; }}>\n          <div className=\"modal-content\">\n            <h3>Watch Settings</h3>\n            <div className=\"row settings-group\">\n              <div className=\"col s12\">\n                <h4>Notification Time</h4>\n              </div>\n              <div className=\"col s8\">\n                <span>Eorzean Hours Notice: </span>\n                <div className=\"input-field inline\">\n                  <input type=\"number\" id=\"alarm_hour\"\n                    disabled={settings.no_alarm ? true : false}\n                    defaultValue={settings.alarm_hour || 0}\n                    onChange={ (evt) => { onUpdateSetting('alarm_hour', evt) } } />\n                  <label htmlFor=\"alarm_hour\">Hours Notice</label>\n                </div>\n              </div>\n              <div className=\"input-field col s3\">\n                <input id=\"no_alarm\" type=\"checkbox\" value=\"no_alarm\"\n                  defaultChecked={settings.no_alarm || false }\n                  onChange={ (evt) => { onUpdateSetting('no_alarm', evt) } } />\n                <label htmlFor=\"no_alarm\">None (disable)</label>\n              </div>\n            </div>\n            <div className=\"row settings-group\">\n              <div className=\"col s12\">\n                <h4>Notice Style</h4>\n              </div>\n              <div className=\"input-radio-group clearfix\">\n                <div className=\"input-field col s4\">\n                  <input type=\"radio\" name=\"alarm_style\" id=\"alarm_style_1\" value=\"none\"\n                    defaultChecked={settings.alarm_style === 'none'}\n                    onChange={ (evt) => { onUpdateSetting('alarm_style', evt) } } />\n                  <label htmlFor=\"alarm_style_1\">None</label>\n                </div>\n                <div className=\"input-field col s4\">\n                  <input type=\"radio\" name=\"alarm_style\" id=\"alarm_style_2\" value=\"popup\"\n                    defaultChecked={settings.alarm_style === 'popup'}\n                    onChange={ (evt) => { onUpdateSetting('alarm_style', evt) } } />\n                  <label htmlFor=\"alarm_style_2\">In-Window Pop Up</label>\n                </div>\n                <div className=\"input-field col s4\">\n                  <input type=\"radio\" name=\"alarm_style\" id=\"alarm_style_3\" value=\"desktop\"\n                    defaultChecked={settings.alarm_style === 'desktop'}\n                    onChange={ (evt) => { onUpdateSetting('alarm_style', evt) } } />\n                  <label htmlFor=\"alarm_style_3\">Desktop Notification <br/>(needs permission)</label>\n                </div>\n              </div>\n            </div>\n            <div className=\"row settings-group\">\n              <div className=\"col s12\">\n                <h4>Alert Sound</h4>\n              </div>\n              <div className=\"input-field col s4\">\n                <select name=\"alarm_sound\" id=\"alarm_sound\" ref={(sel) => {this.select = sel; }}\n                  defaultValue={settings.alarm_sound || 'none'}>\n                  <option value=\"none\" disabled>No Sound</option>\n                  {sounds.map((sound) => {\n                    return (\n                      <option value={sound.name} key={sound.name}>{sound.name}</option>\n                    )\n                  })}\n                </select>\n                <label htmlFor=\"alarm_sound\">Sound Effect</label>\n              </div>\n              <div className=\"col s4\">\n                <div className=\"sound-preview\">\n                  { alarmSound ? (\n                    <ReactAudioPlayer src={`/sound/${alarmSound.filename}`} controls />\n                  ) : null}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"right-align\">\n              <a onClick={this.handleToggleModal.bind(this)} className=\"btn btn-default\">Done</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    modal: state.page.modal,\n    settings: state.settings\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleModal: () => dispatch(toggleModal()),\n    updateSetting: (setting) => dispatch(updateSetting(setting))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsModal);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  toggleModal\n} from '../actions/pageActions';\nimport {\n  addCustomNode,\n  editCustomNode\n} from '../actions/customListActions';\n\n\nclass NewTimerModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = Object.assign({}, {\n      isNew: props.timer ? false : true,\n      name: 'My Custom Timer',\n      time_hour: '12',\n      time_minute: '00',\n      meridien: 'AM',\n      dur_hours: '0',\n      dur_minutes: '55'\n    }, props.timer || {});\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.handleTimerSave = this.handleTimerSave.bind(this);\n  }\n\n  componentDidMount() {\n    $(this.modal).modal({\n      dismissable: false\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.open === true) {\n      $(this.modal).modal('open');\n    }\n  }\n\n  handleOpenModal() {\n    $(this.modal).modal('open');\n  }\n\n  handleCloseModal() {\n    $(this.modal).modal('close');\n  }\n\n  handleChange(name, evt) {\n    let setting = {};\n    const val = evt.target.value;\n\n    setting[name] = val;\n\n    this.setState(setting);\n  }\n\n  handleTimerSave(evt) {\n    const {\n      isNew,\n      name,\n      location,\n      slot,\n      level,\n      x, y,\n      time_hour,\n      time_minute,\n      meridien,\n      dur_hours,\n      dur_minutes,\n      notes\n    } = this.state;\n\n    let result = Object.assign({}, {\n        name,\n        location,\n        slot,\n        x, y,\n        time_hour,\n        time_minute,\n        meridien,\n        dur_hours,\n        dur_minutes,\n        notes\n      }, {\n        type: 'custom',\n        level: level || 70,\n        pos: x && y ? `x${x} y${y}` : null,\n        time: `${time_hour || 12}:${time_minute || '00'} ${meridien || 'AM'}`,\n        duration: `${dur_hours || 0}:${dur_minutes || 55}`,\n      });\n\n    if(isNew) {\n      this.props.addCustomNode(result);\n    } else {\n      this.props.editCustomNode(result);\n    }\n    this.handleCloseModal();\n  }\n\n  render() {\n    const {\n      className\n    } = this.props;\n    const {\n      handleChange,\n      handleTimerSave,\n      handleOpenModal,\n      handleCloseModal\n    } = this;\n\n    const { isNew } = this.state;\n\n    return (\n      <div className={`timer-edit-container ${className || 'right-align'}`}>\n        { !isNew ? (\n            <a className=\"edit-btn\" onClick={handleOpenModal}><i className=\"material-icons\">edit</i></a>\n          ) : (\n            <a className=\"btn btn-default add-timer-btn\" onClick={handleOpenModal}>\n              <i className=\"material-icons\">add</i>{ !isNew ? 'Edit' : 'New' } Timer</a>\n        )}\n        <div className=\"modal modal-fixed-footer new-timer-modal left-align\" ref={(modal) => { this.modal = modal; }}>\n          <div className=\"modal-content\">\n            <form ref={(form) => { this.form = form; }}>\n              <h3>New Timer</h3>\n              <div className=\"row\">\n                <div className=\"input-field col s12\">\n                  <input type=\"text\" name=\"name\" defaultValue={ this.state.name }\n                    onChange={ handleChange.bind(this, 'name') } />\n                  <label htmlFor=\"name\">Name</label>\n                </div>\n                <div className=\"input-field col s12\">\n                  <input type=\"text\" name=\"location\" onChange={ handleChange.bind(this, 'location') }\n                    defaultValue={ this.state.location } />\n                  <label htmlFor=\"location\">Location</label>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col s12\">\n                  <h5>Level, Slot, Position</h5>\n                </div>\n                <div className=\"input-field col s2\">\n                  <input type=\"number\" name=\"level\"\n                    defaultValue={this.state.level}\n                    onChange={ handleChange.bind(this, 'level') }/>\n                  <label htmlFor=\"level\">Level</label>\n                </div>\n                <div className=\"input-field col s2\">\n                  <input type=\"text\" name=\"slot\" defaultValue={this.state.slot}\n                    onChange={ handleChange.bind(this, 'slot') }/>\n                  <label htmlFor=\"slot\">Slot</label>\n                </div>\n                <div className=\"col s6 position-fields\">\n                  <span className=\"\">Position: </span>\n                  <div className=\"input-field inline\">\n                    <input type=\"number\" name=\"x\"\n                      defaultValue={this.state.x}\n                      onChange={ handleChange.bind(this, 'x') } />\n                    <label htmlFor=\"x\">x</label>\n                  </div>\n                  <div className=\"input-field inline\">\n                    <input type=\"number\" name=\"y\"\n                      defaultValue={this.state.y}\n                      onChange={ handleChange.bind(this, 'y') } />\n                    <label htmlFor=\"y\">y</label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col s12\">\n                  <h5>Time</h5>\n                </div>\n                <div className=\"input-field col s3\">\n                  <input type=\"number\" name=\"time_hour\" defaultValue={this.state.time_hour}\n                    onChange={ handleChange.bind(this, 'time_hour') }/>\n                  <label htmlFor=\"time_hour\">hour</label>\n                </div>\n                <div className=\"input-field col s3\">\n                  <input type=\"number\" name=\"time_minute\" defaultValue={this.state.time_minute}\n                    onChange={ handleChange.bind(this, 'time_minute') } />\n                  <label htmlFor=\"time_minute\">minute</label>\n                </div>\n                <div className=\"input-field col s3\">\n                  <select name=\"meridien\" id=\"\" className=\"browser-default\"\n                    defaultValue={this.state.meridien}\n                    onChange={ handleChange.bind(this, 'meridien') }>\n                    <option value=\"am\">AM</option>\n                    <option value=\"pm\">PM</option>\n                  </select>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col s12\">\n                  <h5>Duration</h5>\n                </div>\n                <div className=\"input-field col s3\">\n                  <input type=\"number\" name=\"dur_hours\" defaultValue={this.state.dur_hours}\n                    onChange={ handleChange.bind(this, 'dur_hours') }/>\n                  <label htmlFor=\"dur_hours\">Hours</label>\n                </div>\n                <div className=\"input-field col s3\">\n                  <input type=\"number\" name=\"dur_minutes\" defaultValue={this.state.dur_minutes}\n                    onChange={ handleChange.bind(this, 'dur_minutes') }/>\n                  <label htmlFor=\"dur_minutes\">Minutes</label>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col s12 input-field\">\n                  <h5>Notes</h5>\n                  <textarea className=\"materialize-textarea\" name=\"notes\" defaultValue={this.state.notes}\n                    id=\"\" cols=\"30\" rows=\"10\" onChange={ handleChange.bind(this, 'notes') } />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"right-align\">\n              <a onClick={handleTimerSave} className=\"btn btn-default\">Save</a>\n              <a onClick={handleCloseModal} className=\"btn btn-flat\">Cancel</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addCustomNode: (node) => dispatch(addCustomNode(node)),\n    editCustomNode: (node) => dispatch(editCustomNode(node))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewTimerModal);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { find, union, indexOf, isEmpty } from 'lodash';\n\nimport Modal from './Modal';\nimport {\n  createGroup,\n  updateGroup\n} from '../actions/watchGroupsActions';\n\nclass WatchGroupModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: false,\n      isNew: props.group ? false : true,\n      nodes: props.group ? [...props.group.nodes] : [...props.watchlist],\n      name: props.group ? props.group.name : null,\n      id: props.group ? props.group.id : null\n    }\n  }\n\n  handleOpenModal() {\n    this.setState({ open: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ open: false });\n  }\n\n  handleChange(name, evt) {\n    let setting = {};\n    const val = evt.target.value;\n\n    setting[name] = val;\n\n    this.setState(setting);\n  }\n\n  handleRemoveNode(id) {\n    let list = [...this.state.nodes];\n    const existsAt = indexOf(list, id);\n\n    list.splice(existsAt, 1);\n\n    this.setState({ nodes: list });\n  }\n\n  handleOnSave() {\n    const {\n      name,\n      nodes,\n      id,\n      isNew\n    } = this.state;\n\n    if(!nodes.length || isEmpty(name)) {\n      return this.setState({error: 'You must have at least 1 node, and a name to save.'});\n    }\n\n    if(isNew) {\n      this.props.createGroup({name, nodes});\n    } else {\n      this.props.updateGroup({name, nodes, id});\n    }\n    this.setState({ error: false, open: false });\n\n    return true;\n  }\n\n  render() {\n    const {\n      className,\n      nodelist,\n      customlist,\n      watchlist\n    } = this.props;\n    const {\n      open,\n      nodes,\n      isNew,\n      error\n    } = this.state;\n\n    const fullList = union(nodelist, customlist);\n\n    return (\n      <div className={`${className || ''}`}>\n        {!isNew ? (\n            <a className=\"edit-btn\" onClick={this.handleOpenModal.bind(this)}><i className=\"material-icons\">edit</i></a>\n          ) : (\n            <a onClick={this.handleOpenModal.bind(this)} className=\"btn btn-flat\">Save List As ...</a>\n        )}\n        { open ? (\n          <Modal open={open} buttonName=\"Save\" className=\"modal-fixed-footer\"\n            onClose={this.handleCloseModal.bind(this)}\n            onBeforeClose={this.handleOnSave.bind(this)} cancelButton>\n            <div className=\"watch-group-create-container modal-content\">\n              { error ? (\n                <p className=\"error-message\">{error}</p>\n              ): null}\n              <div className=\"input-field\">\n                <input type=\"text\" name=\"name\" defaultValue={this.state.name}\n                  onChange={this.handleChange.bind(this, 'name')}/>\n                <label htmlFor=\"name\">List Group Name:</label>\n              </div>\n              <h4>Timers:</h4>\n              <div className=\"watch-items\">\n                {nodes.map((id) => {\n                  const node = find(fullList, {id});\n                  return node ? (\n                    <div className=\"node-item clearfix\" key={node.id}>\n                      <div className=\"left\">{node.name} {node.time}</div>\n                      <div className=\"right\">\n                        <a className=\"delete-btn\" onClick={this.handleRemoveNode.bind(this, node.id)}>\n                          <i className=\"material-icons\">close</i>\n                        </a>\n                      </div>\n                    </div>\n                  ) : null;\n                })}\n              </div>\n            </div>\n          </Modal>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    watchlist: state.watchlist.nodes,\n    customlist: state.customlist,\n    nodelist: state.nodelist.nodes\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createGroup: (group) => dispatch(createGroup(group)),\n    updateGroup: (group) => dispatch(updateGroup(group))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchGroupModal);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { isObject } from 'lodash';\n\nimport {\n  replaceList\n} from '../actions/watchListActions';\n\nclass WatchGroupSelect extends Component {\n  componentDidMount() {\n    $(this.dropdown).dropdown({\n      constrainWidth: false,\n      belowOrigin: true\n    });\n  }\n\n  handleDropdown() {\n    $(this.dropdown).dropdown('open');\n  }\n\n  handleGroupSelect(list) {\n    this.props.replaceList(list);\n\n    $(this.dropdown).dropdown('close');\n  }\n\n  render() {\n    const {\n      watchgroups,\n      className\n    } = this.props;\n\n    return (\n      <div className={`${className || ''} watchgroup-select-container`}>\n        <a className=\"btn btn-flat\" ref={(a) => {this.dropdown = a;}}\n          onClick={this.handleDropdown.bind(this)}\n          data-activates=\"load-list\">Load List</a>\n        <ul name=\"load-list\" id=\"load-list\" className=\"dropdown-content\">\n          {watchgroups.map((group) => {\n            return (\n              <li key={group.id}><a onClick={this.handleGroupSelect.bind(this, group.nodes)}>{group.name}</a></li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    watchgroups: state.watchgroups\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    replaceList: (list) => dispatch(replaceList(list))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchGroupSelect);\n","import React from 'react'\nimport {connect} from 'react-redux';\n\nconst googleSheetsLink = \"https://docs.google.com/spreadsheets/d/1pqaKo0TM2rJghWWXqOQIqCueJvFV2dPuZUQnNrsRmt8/edit?usp=sharing\";\n\nconst About = (props) => (\n    <div className=\"about-page\">\n      <div className=\"col-md-12\">\n        <h2>Eorzea Timers - An Open Source Project.</h2>\n        <h3 className=\"bordered-header\">Version: {props.version}\n          <span className=\"small\">(<a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers/releases\">release notes</a>)</span>\n        </h3>\n\n        <p>Please report bugs and data errors at the Github repository\n          <a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers\"> here</a>, or contribute to the code via pull request.\n          <br/>\n          Keep in mind I am a real human with a job, and disrespectful comments &amp; angry demands will be ignored.</p>\n\n        <p>Thanks for your kind support and appreciation for this project.</p>\n\n        <h2>Contribution and Corrections of Data</h2>\n        <p>Data used in this app is now managed via a public Google Spreadsheet.</p>\n        <p>\n          <a href={googleSheetsLink} target=\"_blank\">You can view and request additons and corrections here</a>\n        </p>\n\n        <h3 className=\"bordered-header\">App Features</h3>\n        <ul className=\"browser-default\">\n          <li>Uses LocalStorage to save your preferences and watch lists.</li>\n          <li>Add your own custom timers! Saved via LocalStorage until you remove them.</li>\n          <li>Slots, and x/y coordinates included with all known unspoiled node locations.</li>\n          <li>Incredibly easy to update and contribute!\n            <a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers\"> Learn more here.</a>\n          </li>\n        </ul>\n\n        <h3 className=\"bordered-header\">New for 2.0+!</h3>\n        <ul className=\"browser-default\">\n          <li>Completely re-written for speed and stability.</li>\n          <li>\n            Create and Manage <b>Watch Lists</b> - collections of your most commonly watched sets of nodes.</li>\n          <li>More data provided for each node.</li>\n          <li>Ready to update for 4.0's level 70 nodes!</li>\n        </ul>\n\n        <h3 className=\"bordered-header\">F.A.Q</h3>\n\n        <h4>The time seems off by ~3 Eorzean minutes. What's up with that?</h4>\n        <p>Eorzean time is calculated from Epoch time -- one hour is 2 minutes, 55 seconds Earth time. Because of this, sometimes the math that rounds the time up or down can be off by about 30 seconds.</p>\n        <p>\n          If your time is off by much more than 3 minutes, your computer/phone's time may be off.\n          Check out <a href=\"http://time.is/\" target=\"_blank\"> http://time.is/ </a>\n          to see if it's a time sync issue.</p>\n\n        <h4>There's a bunch of other timers out there. Why make another one?</h4>\n        <p>A few reasons, actually!</p>\n        <ul className=\"browser-default\">\n          <li>I'm a web developer + huge gathering crazie. I wanted to build something that was exactly what I wanted as I spend a LOT of time gathering and staring at this timer screen. :)</li>\n          <li>There isn't an open-source project for timers. I'd rather share my work and hope others help make it better.</li>\n          <li>I frankly didn't like the look/feel or features of what exists currently!</li>\n        </ul>\n        <p>\n          I think it's great that there are lots of options, and I encourage you to\n          <i>not</i> use mine if it doesn't work for you. :)\n        </p>\n\n        <h4>Can you add [insert feature here]?</h4>\n\n        <p>Probably! Please make an suggestion as an issue on the github repo\n          <a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers\"> here</a>!</p>\n      </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n  return {\n    version: state.version\n  };\n}\n\nexport default connect(mapStateToProps)(About);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\n\nimport TimerModal from '../components/TimerModal';\nimport WatchGroupModal from '../components/WatchGroupModal';\n\nimport {\n  removeCustomNode,\n} from '../actions/customListActions';\nimport {\n  removeGroup\n} from '../actions/watchGroupsActions';\n\nclass CustomContent extends Component {\n\n  handleRemoveNode(id) {\n    this.props.removeCustomNode(id);\n  }\n\n  handleRemoveGroup(id) {\n    this.props.removeGroup(id);\n  }\n\n  renderCustomNode(node) {\n    return (\n      <div className=\"custom-node-item clearfix\" key={node.id}>\n        <div className=\"left\">\n          <div className=\"name\">{`${node.name} [${node.level}]`}</div>\n          <div className=\"meta\">\n            {`${node.time} ${node.location ? ' • ' + node.location : ''}`}\n            { node.slot ? (\n              <span className=\"slot\">{` • slot ${node.slot}`}</span>\n            ): null}\n            { node.pos ? (\n              <span className=\"pos\">{` • ${node.pos}`}</span>\n            ): null}\n          </div>\n          {node.notes ? (\n            <div className=\"notes\"><i>notes: </i><br />\n              {node.notes}\n            </div>\n          ) : null}\n        </div>\n        <div className=\"right node-actions\">\n          <TimerModal timer={node} className=\"inline-block\" />\n          <a className=\"delete-btn\" onClick={this.handleRemoveNode.bind(this, node.id)}><i className=\"material-icons\">close</i></a>\n        </div>\n      </div>\n    )\n  }\n\n  renderWatchGroup(group) {\n    return (\n      <div className=\"watch-group-item clearfix\" key={group.id}>\n        <div className=\"left\">\n          <h4>{group.name} • <small>{group.nodes.length} timers</small></h4>\n        </div>\n        <div className=\"right actions\">\n          <div className=\"right node-actions\">\n            <WatchGroupModal group={group} className=\"inline-block\" />\n            <a className=\"delete-btn\" onClick={this.handleRemoveGroup.bind(this, group.id)}><i className=\"material-icons\">close</i></a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const {\n      customlist,\n      watchgroups\n    } = this.props;\n\n    return (\n      <div className=\"custom-content-container\">\n        <div className=\"header\"><TimerModal/></div>\n        <div className=\"custom-node-list\">\n          <h3>Custom Timers</h3>\n          { customlist.length ? (\n              <div>\n                { customlist.map((item) => {\n                    return this.renderCustomNode(item);\n                })}\n              </div>\n          ): (\n            <div className=\"empty-list\">\n              <p>No Custom Timers Yet.</p>\n            </div>\n          ) }\n        </div>\n        <div className=\"watchgroup-list\">\n          <h3>Watch Groups</h3>\n          { watchgroups.length ? (\n            <div>\n              { watchgroups.map((group) => {\n                return this.renderWatchGroup(group);\n              })}\n            </div>\n          ) : (\n            <div className=\"empty-list\">\n              <p>No Watch Groups Created Yet.</p>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    customlist: state.customlist,\n    watchgroups: state.watchgroups\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    removeCustomNode: (id) => dispatch(removeCustomNode(id)),\n    removeGroup: (id) => dispatch(removeGroup(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomContent);\n","import React from 'react';\n\n// Exported from redux-devtools\nimport { createDevTools } from 'redux-devtools';\n\n// Monitors are separate packages, and you can make a custom one\nimport LogMonitor from 'redux-devtools-log-monitor';\nimport DockMonitor from 'redux-devtools-dock-monitor';\n\n// createDevTools takes a monitor and produces a DevTools component\nconst DevTools = createDevTools(\n  // Monitors are individually adjustable with props.\n  // Consult their repositories to learn about those props.\n  // Here, we put LogMonitor inside a DockMonitor.\n  // Note: DockMonitor is visible by default.\n  <DockMonitor toggleVisibilityKey='ctrl-h'\n               changePositionKey='ctrl-q'\n               defaultIsVisible={true}>\n    <LogMonitor theme='tomorrow' />\n  </DockMonitor>\n);\n\nexport default DevTools;s\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport NodeList from '../modules/NodeList';\nimport { search } from '../actions/searchActions';\nimport SearchBar from '../components/SearchBar';\nimport FilterMenu from '../components/FilterMenu';\nimport TimerModal from '../components/TimerModal';\n\nimport {\n  filterTypeNodeList,\n  filterLevelNodeList,\n  toggleFeatureFilter\n} from '../actions/nodeListActions';\nimport {\n  toggleModal\n} from '../actions/pageActions';\n\n\nclass Home extends Component {\n  componentDidMount() {\n    $(this.tabMenu).tabs();\n\n    try {\n      Materialize.updateTextFields();\n    } catch(e) {}\n  }\n\n  itemIcon(item) {\n    return <i className={`icon icon-${item} icon-xs`}></i>\n  }\n\n  featureIcon(item) {\n    let icon;\n    let content;\n    switch(item) {\n        case 'is_collectable':\n          icon = 'icon-collectable';\n          break;\n        case 'is_ephemeral':\n          icon = 'material-icons';\n          content = 'book';\n          break;\n        case 'red_scrip':\n          icon = 'icon-red-scrip';\n          break;\n        case 'blue_scrip':\n          icon = 'icon-blue-scrip';\n          break;\n        default:\n          break;\n    }\n\n    return (\n        <i className={`icon ${icon} icon-sm`}>{content}</i>\n    )\n  }\n\n  handleFilterChange(name, value) {\n    const {\n      typeFilter,\n      levelFilter,\n      featureFilter\n    } = this.props;\n\n    switch (name) {\n      case 'type':\n        typeFilter(value);\n        break;\n\n      case 'level':\n        levelFilter(value);\n        break;\n      case 'feature':\n        featureFilter(value)\n        break;\n    }\n\n  }\n\n  render() {\n    const {\n      search,\n      availableFilters,\n      filterByType,\n      filterByLevel,\n      featureFilters,\n      searchValue\n    } = this.props;\n\n    const filterValues = {\n      type: filterByType,\n      level: filterByLevel,\n      feature: featureFilters\n    }\n\n    const { itemIcon, featureIcon, onSearchChange, handleFilterChange, handleAddTimer } = this;\n\n    return (\n      <div className=\"home-container\">\n          <div className=\"row\">\n            <div className=\"col m8\">\n              <SearchBar onChange={ search } defaultValue={ searchValue }\n                helpText={\"Search by Name or Location\"}/>\n            </div>\n            <div className=\"col m4\">\n              <TimerModal />\n            </div>\n        </div>\n        <div className=\"row\">\n            <FilterMenu className=\"node-list-filters\" values={filterValues}\n              onChange={handleFilterChange.bind(this)} filters={availableFilters} />\n        </div>\n        <NodeList />\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    filterByType: state.nodelist.filterByType,\n    filterByLevel: state.nodelist.filterByLevel,\n    featureFilters: state.nodelist.featureFilters,\n    availableFilters: state.nodelist.filters,\n    searchValue: state.search\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    search: (e, value) => dispatch(search(value)),\n    typeFilter: (value) => dispatch(filterTypeNodeList(value)),\n    levelFilter: (value) => dispatch(filterLevelNodeList(value)),\n    featureFilter: (value) => dispatch(toggleFeatureFilter(value))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { find, sortBy, filter, indexOf, union } from 'lodash';\nimport {NavLink} from 'react-router-dom';\nimport SettingsModal from '../components/SettingsModal';\nimport WatchGroupSelect from '../components/WatchGroupSelect';\nimport WatchGroupModal from '../components/WatchGroupModal';\n\nimport {\n  clearAll\n} from '../actions/watchListActions';\n\n\nimport {\n  isActive,\n  getEarthTimeUntil,\n  getEarthTimeRemaining\n} from '../utils/timeUtils';\n\nimport WatchListItem from '../modules/WatchListItem';\n\nclass WatchList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortNodes = this.sortNodes.bind(this);\n  }\n\n  sortNodes() {\n    const {\n      watchlist,\n      customlist,\n      nodelist,\n      clock\n    } = this.props;\n\n    const fullList = union(nodelist.nodes || [], customlist);\n    if(!fullList.length) { return []; }\n\n    const list = filter(fullList, (node) => {\n      return indexOf(watchlist, node.id) >= 0 ? true : false;\n    })\n\n    return sortBy(list, (node) => {\n        const active = isActive(clock.time, node.time, node.duration),\n              timeUntil = getEarthTimeUntil(node.time, clock.time),\n              timeRemaining = getEarthTimeRemaining(node.time, node.duration, clock.time);\n\n        if(active) {\n            return ((timeRemaining.hours * 60) + timeRemaining.minutes) - 1000;\n        } else {\n            return (timeUntil.hours * 60) + timeUntil.minutes;\n        }\n    });\n  }\n\n  handleCreateWatchgroup() {\n    let group = {\n      name: '',\n      nodes: [... this.props.watchlist]\n    };\n\n\n    this.props.createGroup(group);\n  }\n\n  render() {\n    const {\n      watchlist,\n      watchgroups,\n      modal\n    } = this.props;\n\n    const flex = watchlist.length >= 2;\n\n    return (\n      <div className={`watchlist-container`}>\n        <div className=\"row\">\n          <div className=\"col s9\">\n            <SettingsModal className=\"left\" />\n            { watchlist.length ? (\n              <WatchGroupModal className=\"left\" />\n            ): null}\n            {watchgroups.length ? (\n              <WatchGroupSelect className=\"left\" />\n            ): null }\n          </div>\n          <div className=\"col s3 right-align\">\n            <a onClick={this.props.clearAll} className=\"btn btn-small btn-default\">clear all</a>\n          </div>\n        </div>\n        { watchlist.length ? (\n          <div className={`row watchlist-list flex`}>\n            { this.sortNodes().map((node, i) => {\n              return (\n                <WatchListItem key={node.id} className={`col`} node={node} />\n              )\n            }) }\n          </div>\n        ) : (\n          <div className=\"row\">\n            <div className=\"col s12\">\n              <h3>Your watch list is empty!</h3>\n              <p>Add items from a saved group, or a search on the <NavLink to=\"/\">homepage</NavLink>.</p>\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    nodelist: state.nodelist,\n    customlist: state.customlist,\n    watchlist: state.watchlist.nodes,\n    watchgroups: state.watchgroups,\n    clock: state.clock\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    clearAll: () => dispatch(clearAll()),\n    toggleModal: () => dispatch(toggleModal()),\n    createGroup: (group) => dispatch(createGroup())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchList);\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { throttle, assign } from 'lodash';\nimport IS_DEV from 'isdev';\n\nimport App from './App';\nimport reducers from './reducers';\nimport { loadState, saveState, clearState } from './utils/storageUtils';\nimport { setTime } from './utils/timeUtils';\n\nconst persistedState = loadState() || {};\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk)\n);\n\nconst store = createStore(\n  reducers,\n  assign({}, persistedState, {\n    clock: setTime()\n  }),\n  enhancer\n);\n\nstore.subscribe(throttle(() => {\n  saveState({\n    version: store.getState().version,\n    watchgroups: store.getState().watchgroups,\n    settings: store.getState().settings,\n    watchlist: store.getState().watchlist,\n    customlist: store.getState().customlist\n  });\n}, 1000));\n\nconst Root = (props) => (<App store={store} />);\n\nexport default Root;\n","import React, { PropTypes, Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport {\n  isActive,\n  getTimeDifference,\n  getEarthDurationfromEorzean,\n  getDurationStringFromObject,\n  getEarthTimeRemaining\n} from '../utils/timeUtils';\n\nclass Node extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className={`${this.props.className}`}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\n  export default Node;\n","import React, {PropTypes, Component} from 'react';\nimport {connect} from 'react-redux';\nimport _ from 'lodash';\nimport NodeListItem from './NodeListItem';\nimport {isActive, getTimeDifference, getEarthDurationfromEorzean, getDurationStringFromObject, getEarthTimeRemaining} from '../utils/timeUtils';\nimport searchUtil from '../utils/searchUtils';\n\nclass NodeList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePanels: ['active'],\n      list: [],\n      sortedGroups: {},\n      groups: {\n        'search': 'Search Results',\n        'active': 'Active Nodes',\n        'one_hour': 'In One Hour',\n        'two_hour': 'In Two Hours',\n        'the_rest': 'After That'\n      }\n    }\n\n    this.renderListGroup = this.renderListGroup.bind(this);\n  }\n\n  componentDidMount() {\n    this.sortAndFilterNodes();\n    $(this.collapseList).collapsible();\n  }\n\n  componentDidUpdate() {\n    this.collapseReset();\n  }\n\n  collapseReset() {\n    if(!this.state.collapsed) {\n      $(this.collapseList).collapsible('open', 0);\n\n      this.setState({ collapsed: true });\n    }\n  }\n\n  groupListByTime(list = []) {\n    var time = this.props.clock.time,\n      active = [],\n      one_hour = [],\n      two_hour = [],\n      the_rest = [];\n\n    _.each(list, function(node) {\n      if (isActive(time, node.time, node.duration)) {\n        return active.push(node);\n      }\n\n      let timeUntil = getTimeDifference(time, node.time),\n        hours = timeUntil.hours,\n        minutes = timeUntil.minutes;\n\n      if (hours === 0 && minutes > 0) {\n        return one_hour.push(node);\n      }\n\n      if (hours === 1 && minutes > 0) {\n        return two_hour.push(node);\n      }\n\n      return the_rest.push(node);\n\n    });\n\n    return {\n      active: active.sort((a, b) => {\n        let aDur = getEarthTimeRemaining(a.time, a.duration, this.props.clock.time),\n          bDur = getEarthTimeRemaining(b.time, b.duration, this.props.clock.time);\n\n        var aTime = (aDur.hours * 60) + (aDur.minutes * 60) + aDur.seconds,\n          bTime = (bDur.hours * 60) + (bDur.minutes * 60) + bDur.seconds;\n\n        if (aTime < bTime) {\n          return -1;\n        }\n\n        if (aTime > bTime) {\n          return 1;\n        }\n\n        // a must be equal to b\n        return 0;\n      }),\n      one_hour,\n      two_hour,\n      the_rest\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.sortAndFilterNodes(nextProps);\n\n    const currSearch = _.isEmpty(this.props.search);\n    const nextSearch = _.isEmpty(nextProps.search);\n\n    if(currSearch !== nextSearch) {\n      this.setState({ collapsed: false }, this.collapseReset)\n    }\n  }\n\n  sortAndFilterNodes(props) {\n    const {\n      nodelist,\n      customlist,\n      search\n    } = props || this.props;\n\n    let list = _.union(nodelist.nodes || [], customlist);\n\n    if (list.length && !_.isEmpty(search)) {\n      list = searchUtil(nodelist.nodes, search);\n    }\n\n    if (!_.isEmpty(nodelist.filterByType) && nodelist.filterByType !== 'all') {\n      list = _.filter(list, { type: nodelist.filterByType });\n    }\n\n    if(nodelist.filterByLevel) {\n      if(_.isArray(nodelist.filterByLevel)) {\n        let levelRange = nodelist.filterByLevel;\n        list = _.filter(list, (item) => {\n          return item.level >= levelRange[0] && item.level <= levelRange[1];\n        });\n      } else {\n        list = _.filter(list, { level: nodelist.filterByLevel })\n      }\n    }\n\n    if (!_.isEmpty(nodelist.featureFilters)) {\n      list = _.filter(list, function(item) {\n        let keep = false;\n\n        _.each(nodelist.featureFilters, function(filter) {\n          let value = item[filter];\n\n          // there are a number of values that can be\n          // stored in filterFeature keys.\n          // we want to show the node if the filter key\n          // is non-empty or an explicit boolean of true.\n          if (!_.isUndefined(value)) {\n\n            // scrip keys can be an empty string or a min value\n            if (_.isString(value) && !_.isEmpty(value) || _.isNumber(value)) {\n              keep = true;\n            }\n            // only explicitly pass true if the filter is true.\n            // this way if another filter is true we don't accidently\n            // set it to false incorrectly.\n            if (_.isBoolean(value) && value === true) {\n              keep = true;\n              // or fall back to a nonempty value as true\n            } else if (!_.isEmpty(value)) {\n              keep = true;\n            }\n          }\n        });\n\n        // if the key is undefined, we will default to false (don't show)\n        return keep;\n      });\n    }\n\n    let sortedGroups;\n    if(_.isEmpty(search)) {\n      sortedGroups = this.groupListByTime(list);\n    } else {\n      sortedGroups = {\n        'search': list\n      }\n    }\n\n    this.setState({'list': list, sortedGroups});\n  }\n\n  shouldExpand(activePanels, groupName) {\n    return activePanels.indexOf(groupName) >= 0 ? 'active' : '';\n  }\n\n  renderListGroup(groupName, index) {\n    const { sortedGroups, groups, activePanels } = this.state;\n    const count = sortedGroups[groupName].length;\n\n    const isOpen = groupName === 'search';\n\n    return (\n      <li className={`${groupName}-list`} key={groupName}>\n        <div id={groupName} className={`collapsible-header`}>\n          { groups[groupName] }\n          <span className={`badge list-item-count ${ count > 0 ? 'active' : ''}`}>\n            { sortedGroups[groupName].length }\n          </span>\n        </div>\n        <div className=\"collapsible-body\">\n          <div className={`node-list-group row`}>\n            { sortedGroups[groupName].map((node) => {\n                return (<NodeListItem node={node} key={node.id} className=\"col s12\" />)\n              }) }\n          </div>\n        </div>\n      </li>\n    )\n  }\n\n  render() {\n    const { nodelist, search } = this.props;\n    const { sortedGroups, groups, activePanels, list } = this.state;\n    const { shouldExpand, renderListGroup } = this;\n\n    const groupKeys = Object.keys(sortedGroups);\n\n    return (\n      <div className=\"node-list\">\n        <h4 className=\"list-header\">\n          <span className=\"total\">{list.length} items</span>\n        </h4>\n        <h6 className=\"list-subheader\">\n          { groupKeys.length > 1 ? groupKeys.map((group) => {\n            return (\n              <span className=\"group-total\" key={group}>\n                {`${groups[group]}: `}\n                {`${sortedGroups[group].length}`}\n              </span>\n            )\n          }) : null }\n        </h6>\n        <ul className=\"collapsible popout\" ref={(list) => {\n          this.collapseList = list;\n        }}>\n            { groupKeys.map((group, i) => {\n                return renderListGroup(group, i)\n            })}\n        </ul>\n      </div>\n\n    );\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    nodelist: state.nodelist,\n    customlist: state.customlist,\n    search: state.search,\n    clock: state.clock\n  };\n}\n\nexport default connect(mapStateToProps)(NodeList);\n","import React, { PropTypes, Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport Node from './Node';\n\nimport {\n  isActive,\n  getTimeDifference,\n  getEarthDurationfromEorzean,\n  getDurationStringFromObject,\n  getEarthTimeRemaining\n} from '../utils/timeUtils';\nimport {\n  toggleSelect\n} from '../actions/watchListActions';\nimport Stars from '../components/NodeStars';\nimport { parsePosition } from '../utils/parseUtils';\n\nclass NodeListItem extends Component {\n\n  render() {\n    const { node, clock, watchlist, toggleSelect, className } = this.props;\n    const active = isActive(clock.time, node.time, node.duration);\n\n    var slot = node.slot || '?',\n        earthTimeRemaining,\n        status = '',\n        selected = _.indexOf(watchlist, node.id) !== -1;\n\n    if(active) {\n      earthTimeRemaining = getEarthTimeRemaining(node.time, node.duration, this.props.clock.time);\n\n      let mins = earthTimeRemaining.minutes;\n\n      switch (true) {\n        case mins <= 2 && mins > 1:\n          status = 'warning';\n          break;\n        case mins <= 1:\n          status = 'danger';\n          break;\n        default:\n          status = 'active';\n      }\n    }\n\n    return (\n      <Node className={className}>\n        <div className={`node node-list-item clearfix ${selected ? 'selected' : ''} ${status}`} onClick={toggleSelect.bind(this, node.id)}>\n          <div className=\"left node-list-title\">\n            <span className={`icon icon-${node.type} icon-sm`}></span>\n            <span>\n              { `${node.time} [${node.level}] ${node.name}` }\n              <Stars stars={node.stars} />\n              { `[ slot ${slot} ]` }\n            </span>\n            <span className=\"diff\">\n              { active ? `${earthTimeRemaining.minutes}m ${earthTimeRemaining.seconds}s` : '' }\n            </span>\n          </div>\n          <div className=\"right right-align node-list-details\">\n            <span className=\"small location\">{ node.location }</span>\n            <span className=\"small coords\">{ node.pos }</span>\n          </div>\n        </div>\n      </Node>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    clock: state.clock,\n    watchlist: state.watchlist.nodes\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleSelect: (id) => dispatch(toggleSelect(id))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NodeListItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { isEqual, find } from 'lodash';\n\nimport ReactAudioPlayer from 'react-audio-player';\nimport Modal from '../components/Modal';\n\nimport sounds from '../static/sounds';\nimport { closeNotification } from '../actions/clockActions';\n\nclass Notifications extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      active: false\n    };\n  }\n\n  componentWillUpdate(nextProps) {\n    const { alarmList } = this.props;\n\n    if(!isEqual(alarmList, nextProps.alarmList) && nextProps.alarmList.length) {\n      this.handleNotifications(nextProps);\n    }\n  }\n\n  handleNotifications(props) {\n    if(this.state.active) { return; }\n\n    const list = props.alarmList,\n          style = props.alarmStyle;\n\n    if(style === 'popup') {\n      this.setState({ active: true });\n    } else if(style === 'desktop') {\n\n      const single = list.length === 1,\n            firstNode = list[0],\n            title = single ? firstNode.name : `${firstNode.name} & ${list.length - 1} Others`;\n\n      let options = {};\n      if(firstNode.type === 'botany') {\n        options.icon = '/img/btn_icon_lg.png';\n      } else {\n        options.icon = '/img/min_icon_lg.png';\n      }\n\n      this.setState({ active: true });\n      const notification = new Notification(title, options);\n\n      return setTimeout(() => {\n        this.setState({ active: false });\n        props.closeNotification();\n      }, 5000);\n    }\n  }\n\n  renderPopupContent() {\n    const {\n      alarmList\n    } = this.props;\n\n    return (\n      <div className=\"popup-content-container modal-content\">\n        <h3>Node Alert</h3>\n        { alarmList.map((node) => {\n          return (\n            <div key={`popup-${node.id}`}>\n              <h5>{node.name}: {node.time}</h5>\n              <p>{node.location}</p>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n\n  render() {\n    const {\n      active\n    } = this.state;\n    const {\n      alarmSound,\n      alarmStyle,\n      closeNotification\n    } = this.props;\n\n    const hasSound = alarmSound && alarmSound !== 'none';\n    let soundFile;\n\n    if(hasSound) {\n      soundFile = find(sounds, { name: alarmSound });\n    }\n\n    return (\n      <div className=\"notification-container\">\n        { active ? (\n          <div>\n            { soundFile ? (\n              <ReactAudioPlayer src={`/sound/${soundFile.filename}`} autoPlay className=\"\" />\n              ) : null}\n            }\n            { alarmStyle === 'popup' ? (\n              <Modal open={active} timeout={{time: 5000, callback: closeNotification}}>\n                {this.renderPopupContent()}\n              </Modal>\n            ) : null}\n          </div>\n        ) : null }\n      </div>\n\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    alarmList: state.clock.alarm,\n    alarmStyle: state.settings.alarm_style,\n    alarmSound: state.settings.alarm_sound\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    closeNotification: () => dispatch(closeNotification())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\n","import React, { PropTypes, Component } from 'react';\nimport { connect } from 'react-redux';\nimport { indexOf } from 'lodash';\nimport {\n  isActive,\n  getTimeDifference,\n  getEarthDurationfromEorzean,\n  getDurationStringFromObject,\n  getEarthTimeRemaining,\n  getEarthTimeUntil,\n  getTimeUntil\n} from '../utils/timeUtils';\n\nimport {\n  toggleSelect\n} from '../actions/watchListActions';\n\nimport Stars from '../components/NodeStars';\nimport { parsePosition } from '../utils/parseUtils';\n\nclass WatchListItem extends Component {\n\n  render() {\n    const { node, clock, watchlist, toggleSelect, className } = this.props;\n    const { stars } = this;\n    const active = isActive(clock.time, node.time, node.duration);\n\n    var slot = node.slot || '?',\n        timeRemaining,\n        time,\n        status = '',\n        selected = indexOf(watchlist, node.id) !== -1;\n\n    if(active) {\n      time = getEarthTimeRemaining(node.time, node.duration, clock.time);\n\n      let mins = time.minutes;\n\n      switch (true) {\n        case mins <= 2 && mins > 1:\n          status = 'warning';\n          break;\n        case mins <= 1:\n          status = 'danger';\n          break;\n        default:\n          status = 'active';\n      }\n\n    } else {\n      time = getEarthTimeUntil(node.time, clock.time);\n    }\n\n    return (\n      <div className={`${className}`}>\n        <div className={`node watchlist-item clearfix ${active ? 'active' : ''} ${status}`} >\n          <div className=\"node-content\">\n            <div className=\"node-list-title\">\n              <span className={`icon icon-${node.type} icon-sm`}></span>\n              <span>\n                { node.time }\n              </span>\n              <div className=\"close\" onClick={toggleSelect.bind(this, node.id)}><i className=\"material-icons\">close</i></div>\n            </div>\n            <div className=\"node-list-name\">\n              <div className=\"name\">\n                {`${node.name} [${node.level}]`}\n              </div>\n              <div className=\"meta\">\n                <Stars stars={node.stars} />\n              </div>\n            </div>\n            <div className=\"time-remaining\">\n              <div className=\"small\">{active ? 'time remaining' : 'time until'}:</div>\n              <div className=\"diff\">\n                { `${time.hours > 0 ? time.hours + 'h ' : ''}${time.minutes}m ${time.seconds}s` }\n              </div>\n            </div>\n            <div className=\"slot\">\n              { `[ slot ${slot} ]` }\n            </div>\n            { node.type === 'fishing' && node.bait ? (\n              <div className=\"bait\">{ node.bait.join(', ') }</div>\n            ) : null }\n          </div>\n          <div className=\"node-list-footer\">\n            <div className=\"small location\">{ node.location }</div>\n            <div className=\"small coords\">{ node.pos }</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    clock: state.clock\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    toggleSelect: (id) => dispatch(toggleSelect(id))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchListItem);\n","import { setTime } from '../utils/timeUtils';\n\nimport {\n  INCREMENT_CLOCK,\n  UPDATE_LAST_ALARM,\n  DISPATCH_NOTIFICATION,\n  CLOSE_NOTIFICATION\n} from '../actions/clockActions';\n\nconst clock = (state = {}, action) => {\n  switch (action.type) {\n    case INCREMENT_CLOCK:\n      return Object.assign({}, state, setTime());\n\n    case UPDATE_LAST_ALARM:\n      return Object.assign({}, state, { lastAlarm: action.hour });\n\n    case DISPATCH_NOTIFICATION:\n      return Object.assign({}, state, { alarm: action.list });\n\n    case CLOSE_NOTIFICATION:\n      return Object.assign({}, state, { alarm: [] });\n\n    default:\n      return state;\n  }\n}\n\n\nexport default clock;\n","import uuid from 'uuid/v1';\nimport _ from 'lodash';\n\nimport {\n  ADD_CUSTOM_NODE,\n  EDIT_CUSTOM_NODE,\n  REMOVE_CUSTOM_NODE\n} from '../actions/customListActions';\n\nconst customlist = (state = [], action) => {\n  let list = _.clone(state),\n      node, existsAt;\n\n  switch (action.type) {\n    case ADD_CUSTOM_NODE:\n      node = Object.assign({}, action.node, {\n        id: uuid()\n      });\n\n      return [...state, node];\n\n    case EDIT_CUSTOM_NODE:\n      existsAt = _.indexOf(state, action.node.id);\n      node = _.find(list, { id: action.node.id });\n\n      let newNode;\n      if(node) {\n        list.splice(existsAt, 1);\n        newNode = Object.assign({}, node, action.node);\n        list.push(newNode);\n      }\n\n      return list;\n\n    case REMOVE_CUSTOM_NODE:\n      existsAt = _.findIndex(list, {id: action.id});\n\n      // if exists, remove from list\n      if (existsAt !== -1) {\n        list.splice(existsAt, 1);\n      }\n\n      return list;\n\n    default:\n      return state;\n  }\n}\n\nexport default customlist;\n","import { routerReducer as routing } from 'react-router-redux';\nimport { combineReducers } from 'redux';\nimport clock from './clockReducer';\nimport nodelist from './nodeListReducer';\nimport search from './searchReducer';\nimport watchlist from './watchListReducer';\nimport settings from './settingsReducer';\nimport page from './pageReducer';\nimport watchgroups from './watchGroupsReducer';\nimport customlist from './customListReducer';\n\nconst version = (state) => \"2.2.0\";\n\nconst rootReducer = combineReducers({\n  clock,\n  routing,\n  nodelist,\n  search,\n  watchlist,\n  settings,\n  page,\n  watchgroups,\n  customlist,\n  version\n});\n\nexport default rootReducer;\n","import _ from 'lodash';\nimport * as utils from '../utils/parseUtils';\n\nimport {\n  REQUEST_NODELIST,\n  RECEIVE_NODELIST,\n  FILTER_TYPE_NODELIST,\n  FILTER_LEVEL_NODELIST,\n  FILTER_FEATURE_TOGGLE_NODELIST\n} from '../actions/nodeListActions';\n\nimport filters from '../static/filters';\n\nexport const defaultState = {\n  isFetching: false,\n  nodes: [],\n  filterByType: 'all',\n  filterByLevel: null,\n  featureFilters: [],\n  filters\n}\n\nfunction nodes(state = defaultState, action) {\n  var booleanValues = [\n    'is_collectable',\n    'is_legendary',\n    'is_ephemeral',\n    'red_scrip',\n    'blue_scrip',\n    'yellow_scrip'\n  ];\n\n  switch(action.type) {\n    case REQUEST_NODELIST:\n      return Object.assign({}, state, {\n        isFetching: true\n      });\n\n    case RECEIVE_NODELIST:\n      var nodes = [];\n\n      // merge the lists of nodes to a single array,\n      // and create a unique entry for each time per node.\n      _.each(action.nodes, (list, key) => {\n\n        _.each(list, function(node) {\n          let result = {},\n              times = utils.parseTimes(node.times),\n              pos = utils.parsePosition(node.pos),\n              level = utils.parseLevel(node.level || 50);\n\n          if(node.bait) {\n            result.bait = utils.parseAttrs(node.bait);\n          }\n\n          _.each(booleanValues, (key) => {\n            result[key] = utils.parseBooleans(node[key]);\n          });\n\n          _.each(times, (time, i) => {\n            nodes.push(Object.assign({}, node, {\n                time,\n                type: key,\n                id: `${node.id}-${i}`,\n                level,\n                pos\n              }, result))\n\n            });\n          });\n\n        });\n\n      return Object.assign({}, state, {\n        isFetching: false,\n        nodes: nodes,\n        lastUpdated: action.recievedAt\n      });\n\n    case FILTER_TYPE_NODELIST:\n      return Object.assign({}, state, {\n        filterByType: action.filterByType\n      });\n\n    case FILTER_LEVEL_NODELIST:\n      const filter = action.filterByLevel;\n      let newFilter = filter;\n\n      if(newFilter === state.filterByLevel) {\n        newFilter = null;\n      }\n\n      return Object.assign({}, state, {\n        filterByLevel: newFilter\n      });\n\n    case FILTER_FEATURE_TOGGLE_NODELIST:\n      let featureFilters = state.featureFilters,\n          existsAt = _.indexOf(featureFilters, action.feature);\n\n      if(existsAt !== -1) {\n          featureFilters.splice(existsAt, 1);\n      } else {\n        featureFilters.push(action.feature);\n      }\n\n      return Object.assign({}, state, {\n        featureFilters: featureFilters\n      });\n\n    default:\n      return state;\n  }\n}\n\n\nexport default nodes;\n","import _ from 'lodash';\n\nimport {\n  TOGGLE_SELECT\n} from '../actions/nodeActions';\n\nfunction node(state = {}, action) {\n  switch(action.type) {\n    case TOGGLE_SELECT:\n      return Object.assign({}, state, {\n        selected: !action.selected,\n      });\n\n    default:\n      return state\n  }\n}\n\nexport default node\n","import {TOGGLE_MODAL} from '../actions/pageActions';\n\nconst page = (state = {\n  modal: false\n}, action) => {\n\n    switch (action.type) {\n      case TOGGLE_MODAL:\n        return Object.assign({}, state, {\n          modal: !state.modal\n        });\n\n      default:\n        return state;\n    }\n\n}\n\nexport default page;\n","import search from '../utils/searchUtils';\nimport {\n  SEARCH_QUERY\n} from '../actions/searchActions';\n\nexport default function (state = '', action) {\n  switch (action.type) {\n    case SEARCH_QUERY:\n      return action.query\n    default:\n      return state;\n  }\n}\n","import {\n  UPDATE_SETTING\n} from '../actions/settingsActions';\n\n\nconst settings = (state = {\n}, action) => {\n\n    switch (action.type) {\n      case UPDATE_SETTING:\n        return Object.assign({}, state, action.setting);\n\n      default:\n        return state;\n    }\n\n}\n\nexport default settings;\n","import uuid from 'uuid/v1';\nimport { findIndex, find, indexOf, extend } from 'lodash';\n\nimport {\n  WATCHGROUP_ADD_ITEM,\n  WATCHGROUP_REMOVE_ITEM,\n  CREATE_WATCHGROUP,\n  REMOVE_WATCHGROUP,\n  UPDATE_WATCHGROUP\n} from '../actions/watchGroupsActions';\n\nconst watchgroups = (state = [], action) => {\n    const list = [...state];\n    let targetGroup, existsAt, group;\n\n    switch (action.type) {\n      case CREATE_WATCHGROUP:\n        if(!action.group) { return state; }\n\n        group = Object.assign({}, action.group, {\n          id: uuid()\n        });\n\n        return [...state, group];\n\n      case UPDATE_WATCHGROUP:\n        if(!action.group) { return state; }\n        group = find(list, { id: action.group.id });\n\n        extend(group, action.group);\n\n        return list;\n      case REMOVE_WATCHGROUP:\n        existsAt = findIndex(list, { id: action.id });\n\n        if(existsAt !== -1) {\n          list.splice(existsAt, 1);\n        }\n\n        return list;\n\n      case WATCHGROUP_ADD_ITEM:\n        targetGroup = find(list, { id: action.groupId });\n\n        if(indexOf(targetGroup.nodes, action.nodeId) !== -1) {\n          targetGroup.nodes.push(action.nodeId);\n        }\n\n        return list;\n\n      case WATCHGROUP_REMOVE_ITEM:\n        targetGroup = find(list, { id: action.groupId });\n        existsAt = indexOf(targetGroup.nodes, action.nodeId);\n\n        if(existsAt !== -1) {\n          targetGroup.nodes.splice(existsAt, 1);\n        }\n\n        return list;\n\n      default:\n        return state;\n    }\n\n}\n\nexport default watchgroups;\n","import _ from 'lodash';\n\nimport {\n  ADD_WATCHLIST,\n  REMOVE_WATCHLIST,\n  UPDATE_TIMES,\n  CLEAR_ALL\n} from '../actions/watchListActions';\n\nexport default function watchlist(state = {nodes: [], times: []}, action) {\n  let list = _.clone(state.nodes),\n      id = action.id,\n      existsAt = _.indexOf(list, id);\n\n  switch(action.type) {\n    case ADD_WATCHLIST:\n      if (existsAt === -1) {\n        list.push(id);\n      }\n      return Object.assign({}, state, { nodes: list });\n\n    case REMOVE_WATCHLIST:\n      if (existsAt !== -1) {\n          list.splice(existsAt, 1);\n      }\n      return Object.assign({}, state, { nodes: list });\n\n    case UPDATE_TIMES:\n      return Object.assign({}, state, { times: action.times })\n\n    case CLEAR_ALL:\n    return Object.assign({}, state, { nodes: [] })\n\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\n\nimport Home from './containers/Home';\nimport About from './containers/About';\nimport WatchList from './containers/WatchList';\nimport CustomContent from './containers/CustomContent';\n\nimport MainNav from './components/MainNav';\n\nexport default () => (\n  <Router>\n    <div>\n      <MainNav />\n      <div className=\"container\">\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/watch\" component={WatchList} />\n        <Route path=\"/custom\" component={CustomContent} />\n        <Route path=\"/about\" component={About}/>\n      </div>\n    </div>\n  </Router>\n);\n","export default {\n  type: {\n    name: 'By Class',\n    values: [\n        'all',\n        'botany',\n        'mining',\n        'fishing',\n        'custom'\n    ]\n  },\n  level: {\n    name: 'By Level',\n    values: [\n      { value: 50, name: '50' },\n      { value: [51, 59], name: '51-59'},\n      { value: 60, name: '60'},\n      { value: [61,69], name: '61-69'},\n      { value: 70, name: '70'}\n    ]\n  },\n  feature: {\n    name: 'By Type',\n    values: [\n      {value: 'is_collectable', name: 'Collectable'},\n      {value: 'is_ephemeral', name: 'Ephemeral'},\n      {value: 'red_scrip', name: 'Red Scrip'},\n      // {value: 'blue_scrip', name: 'Blue Scrip'},\n      {value: 'yellow_scrip', name: 'Yellow Scrip'}\n    ]\n  }\n};\n","export default [\n  {\n    name: 'chime',\n    filename: 'chime.wav'\n  },\n  {\n    name: 'big ben',\n    filename: 'chime_big_ben.wav'\n  },\n  {\n    name: 'chime up',\n    filename: 'chime_up.wav'\n  },\n  {\n    name: 'cuckoo',\n    filename: 'cuckoo.wav'\n  },\n  {\n    name: 'doorbell',\n    filename: 'doorbell.wav'\n  },\n  {\n    name: 'floop',\n    filename: 'floop.wav'\n  },\n  {\n    name: 'gong',\n    filename: 'gong.wav'\n  }\n];\n","import { isArray, filter, isString, trim } from 'lodash';\n\nexport function parsePosition(pos) {\n  if(isArray(pos)) {\n    return pos.join(', ').replace(/\\:/g, ' ');\n  } else if(pos) {\n    return pos.replace(/\\:/g, ' ');\n  }\n}\n\nexport function parseAttrs(attr) {\n  if(isString(attr)) {\n    return filter(attr.split(','), (a) => {\n      return a.length > 0;\n    })\n  }\n}\n\nexport function parseTimes(times) {\n  if(isArray(times)) {\n    return times;\n\n  } else {\n    var list = times.split(',').map((time) => trim(time));\n\n    return filter(list, (time) => {\n      return time.length > 0;\n    });\n  }\n}\n\nexport function parseLevel(value) {\n  return parseFloat(value);\n}\n\nexport function parseBooleans(value) {\n  if(!value || value.length === 0 || value.toLowerCase() === 'false') {\n    return false;\n  } else if(value.toLowerCase() === 'true') {\n    return true;\n  } else {\n    return value;\n  }\n}\n","import Fuse from 'fuse.js';\n\nexport default function search(list, query = '', opts = {}) {\n  var fuse = new Fuse(list, Object.assign({\n        keys: ['name', 'location'],\n        threshold: 0.3\n      }, opts));\n\n\n  return fuse.search(query);\n}\n","export const loadState = (version = 2.0) => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) {\n      return undefined;\n    }\n\n    const state = JSON.parse(serializedState);\n\n    // if(!state || !state.version || state.version < version) {\n    //   clearState();\n    //   return saveState({ version });\n    // }\n\n    return state;\n  } catch (err) {\n    return undefined;\n  }\n};\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n\n    return state;\n  } catch (err) {\n    // Ignore write errors.\n  }\n};\n\n\nexport const clearState = (state) => {\n  try {\n    localStorage.setItem('state', {});\n  } catch(err) {\n\n  }\n}\n","import moment from 'moment';\nimport _ from 'lodash';\n\nexport const getEorzeaTime = () => {\n  const eorzeaMultipler = (3600 / 175) * 1000;\n  const universalTime = moment().unix();\n\n  return universalTime * eorzeaMultipler;\n}\n\nexport const setTime = () => {\n  var eorzeaTime = getEorzeaTime(),\n      result = moment.utc(eorzeaTime);\n\n    return {\n        'time': result.format('h:mm A'),\n        'meridiem': result.format('A'),\n        'hour': parseFloat(result.format('H')),\n        'minute': parseFloat(result.format('m'))\n    };\n};\n\nexport const getEarthDurationfromEorzean = (stringDuration) => {\n    // 175 earth seconds = 3600 eorzean seconds (1 hour)\n    var time = {\n            hours: parseFloat(stringDuration.split(':')[0]),\n            minutes: parseFloat(stringDuration.split(':')[1])\n        },\n        totalMins = (time.hours * 60) + time.minutes,\n        totalSeconds = totalMins * 60;\n\n    // how many multiples of 175 (eorz hours) we have.\n    var earthUnits = totalSeconds / 3600;\n\n    var totalEarthSeconds = earthUnits * 175,\n        minutes = Math.floor(totalEarthSeconds / 60),\n        hours = Math.floor(minutes / 60),\n        seconds = Math.ceil(((totalEarthSeconds / 60) - minutes) * 60);\n\n    if (minutes > 60) {\n        var diff = Math.floor(minutes / 60);\n        minutes = minutes - (diff * 60);\n    }\n\n    return {\n        hours: hours,\n        minutes: minutes,\n        seconds: seconds\n    };\n};\n\n/**\n *   Expects two string times with meridien,\n *   IE: 8:00 AM, 7:00 PM\n *   B will be compared against A, like in subtraction.\n *   ex1: A: 12:00 AM B: 11:00 PM = 23 hour difference.\n *   ex2: A: 11:00 PM B: 12:00 AM = 1 hour difference.\n */\nexport const getTimeDifference = (a, b) => {\n    let hours = 0,\n        minutes = 0,\n        times = {};\n\n    _.each([a, b], function(time, idx) {\n        times[idx] = getTimeObjFromString(time);\n    });\n\n    let timeA, timeB, diff;\n\n    timeA = (times[0].hour * 60) + times[0].minute;\n    timeB = (times[1].hour * 60) + times[1].minute;\n\n    diff = timeB - timeA;\n\n    hours = Math.floor(diff / 60);\n    minutes = diff - (hours * 60);\n\n    if(hours < 0) {\n        hours = hours + 24;\n    }\n\n    return {\n        hours: hours,\n        minutes: minutes\n    };\n};\n\n// Expects a string format: 12:00 AM\nexport const getTimeRemaining = (nodeTime, duration, currTime) => {\n    let endTime = getEndTimeFromDuration(nodeTime, duration);\n\n    return getTimeDifference(currTime, endTime);\n}\n\n// Expects a string format: 12:00 AM\n// Best used for active nodes.\nexport const getEarthTimeRemaining = (nodeTime, duration, currTime) => {\n    let endTime = getEndTimeFromDuration(nodeTime, duration),\n        diff = getTimeDifference(currTime, endTime),\n        durStr = getDurationStringFromObject(diff);\n\n    return getEarthDurationfromEorzean(durStr);\n}\n\nexport const getTimeUntil = (nodeTime, currTime) => {\n  return getTimeDifference(currTime, nodeTime)\n}\n\n// Expects string formats: 12:00 AM\n// Best used for inactive (upcoming) nodes\nexport const getEarthTimeUntil = (nodeTime, currTime) => {\n  if(!nodeTime || !currTime || !_.isString(nodeTime) || !_.isString(currTime)) {\n    return console.error('getEarthTimeUntil expects 2 arguments <string:time>; ie \"12:00 AM\", \"2:00 PM\"');\n  }\n\n  const startUntil = getTimeDifference(currTime, nodeTime);\n  const durStr = getDurationStringFromObject(startUntil);\n\n  return getEarthDurationfromEorzean(durStr)\n}\n\n// Expects format: 12:00 AM\nexport const getTimeObjFromString = (stringTime) => {\n    if(!stringTime || !_.isString(stringTime) ) {\n      return console.error('getTimeObjFromString expects 1 arguments <string:time>; ie \"12:00 AM\"');\n    }\n\n    let time = stringTime,\n        isAM = time.indexOf('AM') > -1,\n        hour = parseFloat(time.split(' ')[0].split(':')[0]);\n\n    if (isAM && hour === 12) {\n        hour = 0;\n    } else if (!isAM && hour !== 12) {\n        hour += 12;\n    }\n\n    return {\n        hour: hour,\n        minute: parseFloat(time.split(' ')[0].split(':')[1])\n    };\n};\n\n// Expect object formatted from getTimeObjFromString\nexport const getTimeStringFromObject = (timeObj) => {\n    let hour = timeObj.hour,\n        minute = timeObj.minute,\n        meridien = 'AM';\n\n    if (hour > 12) {\n        meridien = 'PM';\n        hour = hour - 12;\n    } else if(hour === 12) {\n        meridien = 'PM';\n    }\n\n    minute = minute < 10 ? '0' + minute : minute;\n\n    return hour + ':' + minute + ' ' + meridien;\n};\n\nexport const getTimeStringFromDuration = (stringStartTime, stringDuration) => {\n    if(!stringStartTime || !stringDuration || !_.isString(stringDuration) || !_.isString(stringStartTime) ) {\n      return console.error('getTimeStringFromDuration expects 2 arguments <string:time>; ie \"12:00 AM\"');\n    }\n\n    let startTime = getTimeObjFromString(stringStartTime),\n        duration = {\n            hour: parseFloat(stringDuration.split(':')[0]),\n            minute: parseFloat(stringDuration.split(':')[1])\n        },\n        end = {};\n\n    let hour = startTime.hour + duration.hour,\n        minute = startTime.minute + duration.minute;\n\n    if (minute > 60) {\n        hour++;\n        minute -= 60;\n    }\n\n    if (hour > 24) {\n        hour -= 24;\n    }\n\n    if (hour > 12) {\n        hour -= 12;\n        end.meridien = 'PM';\n    } else {\n        end.meridien = 'AM';\n    }\n\n    end.hour = hour;\n    end.minute = minute < 10 ? '0' + minute : minute;\n\n    return end.hour + ':' + end.minute + ' ' + end.meridien;\n};\n\nexport const getDurationObjFromString = (duration) => {\n    let hours = parseFloat(duration.split(':')[0]),\n        mins = parseFloat(duration.split(':')[1]);\n\n    return {\n        hours: hours,\n        minutes: mins\n    };\n};\n\nexport const getDurationStringFromObject = (durationObj) => {\n    let hours = durationObj.hours,\n        mins = durationObj.minutes;\n\n    if(mins < 10) {\n        mins = '0' + mins.toString()\n    }\n\n    return hours + ':' + mins;\n};\n\nexport const getEndTimeFromDuration = (startTime, duration) => {\n    let startObj = getTimeObjFromString(startTime),\n        durationObj = getDurationObjFromString(duration),\n        endObj = {\n            hour: startObj.hour + durationObj.hours,\n            minute: startObj.minute + durationObj.minutes\n        };\n\n    if(endObj.minute >= 60) {\n        endObj.hour += 1;\n        endObj.minute -= 60;\n    }\n\n    if(endObj.hour >= 24) {\n        endObj.hour -= 24;\n    }\n\n    return getTimeStringFromObject(endObj);\n};\n\nexport const isActive = (currentTime, startTime, duration) => {\n    let endTime = getEndTimeFromDuration(startTime, duration),\n        startTimeDiff = getTimeDifference(currentTime, startTime),\n        endTimeDiff = getTimeDifference(currentTime, endTime),\n        durationObj = getDurationObjFromString(duration),\n        result = false;\n\n    let startTimeDiffMins = (startTimeDiff.hours * 60) + startTimeDiff.minutes,\n        endTimeDiffMins = (endTimeDiff.hours * 60) + endTimeDiff.minutes,\n        durationMins = (durationObj.hours * 60) + durationObj.minutes;\n\n    if(endTimeDiffMins < durationMins) {\n        result = true;\n    }\n\n    return result;\n};\n"]}